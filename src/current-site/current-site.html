<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">

</head><body><dom-module id="current-site">
  <template>
    <array-selector id="selector" items="{{sites}}" selected="{{site}}"></array-selector>
  </template>
  <script>Polymer({is:"current-site",properties:{latitude:Number,longitude:Number,range:Number,sites:{type:Array},site:{type:Object,notify:!0,value:null}},observers:["_determineSite(latitude,longitude,sites)"],_determineSite:function(e,t,r){for(var i,l,s,n,u=1e6,o=0;o<r.length;o++)l=e-r[o].latitude,s=t-r[o].longitude,(i=Math.sqrt(l*l+s*s))<u&&i<=r[o].range&&(u=i,n=o);1e6==u?this.$.selector.clearSelection():this.$.selector.select(r[n])}});</script>
</dom-module>
</body></html>