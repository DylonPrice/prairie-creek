<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">

</head><body><dom-module id="user-location">
  <script>Polymer({is:"user-location",properties:{latitude:{type:Number,notify:!0,readOnly:!0},longitude:{type:Number,notify:!0,readOnly:!0},updateRate:{type:Number,notify:!0,readOnly:!0,value:2},active:{type:Boolean,value:!1},currentSite:{type:Object},devMode:{type:Boolean,notify:!0}},ready:function(){if("geolocation"in navigator){navigator.geolocation.getCurrentPosition(this._updatePosition(),this._onError),navigator.geolocation.watchPosition(this._onPositionChanged(),this._onError)}else alert("Geolocation not available on this device."),console.log("Geolocation not available")},_onError:function(o){console.log("Geolocation error("+o.code+"): "+o.message)},_onPositionChanged:function(){var o=this;return function(e){o.devMode?console.log("Ignoring location change; devmode"):o.active?o._updatePosition()(e):console.log("Ignoring location change; inactive")}},_updatePosition:function(){var o=this;return function(e){var t=e.coords;o._setLatitude(t.latitude),o._setLongitude(t.longitude),console.log("Latitude is ",o.latitude," and longitude is ",o.longitude)}}});</script>
</dom-module></body></html>