<html><head><link rel="import" href="../../bower_components/polymer/polymer.html">
<link rel="import" href="../../bower_components/iron-timer/iron-timer.html">


</head><body><dom-module id="user-location">
  <template>
    <div>
      <iron-timer id="locationTimer" start-time="[[updateRate]]" current-time="0" on-iron-timer-end="_updateLocation"></iron-timer>
    </div>
  </template>
  <script>Polymer({is:"user-location",properties:{latitude:{type:Number,notify:!0,readOnly:!0,value:0},longitude:{type:Number,notify:!0,readOnly:!0,value:0},updateRate:{type:Number,notify:!0,readOnly:!0,value:2},currentSite:{type:Object},devMode:{type:Boolean,notify:!0}},observers:["_devModeCheck(devMode)"],ready:function(){this.$.locationTimer.start();var t=this;navigator.geolocation.getCurrentPosition(function(e){var o=e.coords;t._setLatitude(o.latitude),t._setLongitude(o.longitude),console.log("Latitude is ",t.latitude," and longitude is ",t.longitude)})},_devModeCheck:function(t){1==t&&this.$.locationTimer.pause()},_updateLocation:function(){this.$.locationTimer.reset(),this.$.locationTimer.start();var t=this;navigator.geolocation.getCurrentPosition(function(e){var o=e.coords;t._setLatitude(o.latitude),t._setLongitude(o.longitude),console.log("Latitude is ",t.latitude," and longitude is ",t.longitude)})}});</script>
</dom-module>
</body></html>