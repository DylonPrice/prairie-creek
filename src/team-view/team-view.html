<html><head><link rel="import" href="../../bower_components/polymer/polymer.html"><link rel="import" href="../../bower_components/paper-button/paper-button.html"><link rel="import" href="../../bower_components/social-links/facebook-link.html"><link rel="import" href="../../bower_components/social-links/twitter-link.html"><link rel="import" href="../spirit-team/spirit-team.html"><link rel="import" href="../view-behavior/view-behavior.html"><link rel="import" href="../shared-styles/shared-styles.html"><script src="../spirit-selector.js"></script></head><body><dom-module id="team-view"><template><style include="shared-styles">:host{display:block;}spirit-team{height:50vh;}paper-button{margin-left:25%;width:50%;}.social{margin-top:20px;text-align:center;}.social .links{letter-spacing:0.5em;}</style><div class="text">[[_spiritNames]] have come together to protect Prairie Creek Park!</div><spirit-team id="team"></spirit-team><paper-button raised="" on-tap="_next">Play Again</paper-button><div class="social"><div class="text">Share your adventure!</div><div class="links"><a href="https://plus.google.com/share?url=http%3A//spiritsatprairiecreek.com" onclick="window.open(this.href, '', 'menubar=no,toolbar=no,resizable=yes,scrollbars=yes,height=600,width=600');return false;"><img src="https://www.gstatic.com/images/icons/gplus-32.png" alt="Share on Google+"></a><twitter-link height="32px" href="https://twitter.com/share"></twitter-link><facebook-link height="32px" href="https://www.facebook.com/sharer/sharer.php?u=http%3A//spiritsatprairiecreek.com&amp;picture=http%3A//spiritsatprairiecreek.com/images/fb-image.png&amp;quote=I+discovered+five+spirits+at+Prairie+Creek+Park%21&amp;title=Spirits+at+Prairie+Creek+Park&amp;description=A+game+for+families+and+small+groups+at+Prairie+Creek+Park+in+East+Central+Indiana"></facebook-link></div></div></template><script>Polymer({is:'team-view',behaviors:[ViewBehavior],properties:{mapData:Object,_spiritNames:String},observers:['_appStateChanged(appState)'],_next:function(){this._goToView('title')},_appStateChanged:function(b){if('team'===b){var c=this._selectedSpirits();this.$.team.images=this._toImageArray(c),this._spiritNames=this._makeNameString(c)}},_selectedSpirits:function(){for(var d,b=[],c=0;c<this.mapData.length;c++)d=selectSpirit(this.mapData[c]),b.push(d);return this._shuffle(b),b},_shuffle:function(b){var c,d,e;for(e=b.length;e;e--)c=Math.floor(Math.random()*e),d=b[e-1],b[e-1]=b[c],b[c]=d},_toImageArray:function(b){for(var c=[],d=0;d<b.length;d++)c.push(b[d].image);return c},_makeNameString:function(b){for(var c='',d=0;d<b.length;d++)c+=b[d].text.name,d<b.length-1&&(c+=', '),d===b.length-2&&(c+='and ');return c}});</script></dom-module></body></html>